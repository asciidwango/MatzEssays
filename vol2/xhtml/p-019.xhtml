<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html
 xmlns="http://www.w3.org/1999/xhtml"
 xmlns:epub="http://www.idpf.org/2007/ops"
 xml:lang="ja"
 class="hltr"
>
<head>
<meta charset="UTF-8"/>
<title>第39章 DBM</title>
<link rel="stylesheet" type="text/css" href="../../style/book-style.css"/>
</head>
<body epub:type="bodymatter">
<!-- Navigation -->
<h1>Matz Essays Volume 2</h1>
<p class="navigation-top"><a href="../../index.xhtml">HOME</a>　&gt;　<a href="../index.xhtml">Volume 2</a>　&gt;　<a href="p-018.xhtml">第39章</a>　&gt;　Ruby開発日記</p>
<!-- Body -->
<section id="chap3908" class="level2">
<a id="page_106"/>
<h3>◆ Ruby開発日記 ◆メールリーダーの新アプローチ</h3>
<hr class="hr-green" />
<p class="in">私が電子メールを日常的に使うようになってから、もう15年以上経ちます。最初は日に数通、それも日本語のものだけでした。あの頃は海外への接続は制限されており、高額な国際回線料の負担分配を明確化するために、海外にメールを出すためにはいろいろ面倒なことが多かったものです。当時は「いまだに鎖国しているようだ」と感じたものです。</p>
<p class="in">それから10数年の間に、インターネットは一般化し、パソコン通信と呼ばれていたものはすべてインターネットに流れ込み、コンピュータだけでなく携帯電話からも電子メールのやりとりができるようになりました。それに伴い電子メールの数も飛躍的に増大しました。海外からもどんどんメールが入ってきます。</p>
<p class="in">さらに悪いことに電子メールの世界にはスパムが<ruby>蔓延<rt>まんえん</rt></ruby>しています。どこからアドレスを集めるのか知りませんが、毎日毎日数百通のスパムが送りつけられています。バイアグラだの、出会い系だの、もうけ話だの、もう勘弁してほしいです。</p>
<p class="in">Rubyが世界中で使われ、海外のいろいろなところからメールをもらうことが増えたこと、また、「ruby-talkメーリングリスト」の流量が半端でなく増えたこともあって、私の1日に受け取る電子メールの量は10年前の100倍くらいになっているような気がします。スパムも含めれば1日1000通を超えることは珍しくありません。</p>
<p class="in">以前（<a href="p-014.xhtml#chap37">2004年6月号</a>）でも紹介したように、私に届くスパムのほとんどはフィルタを使って除去していますが、それでも数百通は残ります。それらのほとんどは目を通すだけですが、返事を書く必要があるものも多く、中には今はいらないけど後から参照したいというようなものもあります。これだけメールが多くなると従来の方法での管理が難しくなってきました。</p>
<p class="in">私が現在使っているメールリーダーはcmailです。Emacs上で動作するこのメールリーダーは、私自身がずっと手を入れてきたこともあって、もう10年以上愛用しているものです。しかし、ここ最近のメール量の増大に対応できなくなってきました。</p>
<p class="in">最初の問題が動作速度です。cmailはすべてEmacs Lispで記述されたメールリーダーです。インタプリタであるEmacs Lispの実行速度はお世辞にも速いとはいえません。メールを分類しているフォルダに数千通もメールがたまるとただリストを表示するだけでも数分かかってしまうこともあります。これではメールを読むだけでもストレスです。</p>
<p class="in">もう1つは、検索機能の弱さです。たまったメールの数が数万通を超えると通常の方法では探し出すことは困難です。「えっと、この件について以前誰かからメールをもらったよな」と思っても、ため込んでいる膨大な過去メールの中から必要な情報を引き出すことはなかなか困難です。結局、メール検索はあきらめて、Googleのようなインターネット検索に頼ることになってしまいます。手元に情報があるのに実にもったいない。</p>
<p class="in">そんな不満を抱えつつも、私の望みをすべてかなえるメールリーダーにも巡り合えず、慣れたインターフェイスから移行する気にもならないまま日々を過ごしていたのですが、ある日、Gmailというサービスについて耳にしました。</p>
<a id="page_107"/>
<p class="in">GmailはGoogleが提供する新しいメールサービスです。その特徴はなんといっても一人当たり最大1Gバイトものディスク容量が割り当てられるということです。そして、1Gバイトもの容量から目当てのメールを見つけ出すために、Google得意の検索技術が活用されるということです。</p>
<p class="in">なかなか画期的なサービスのように聞こえます。しかし、Webを使ったメールサービスはインターネットアクセスが使えなくなったときに困ります。出張中などインターネットにつなげない局面でもメールからデータを引き出したいのは自然な欲求です。やはり、大事なデータは手元に起きたいというのが心情です。その後、Gmailには広告を表示するためメールの内容を解析するのはプライバシーの侵害になるのではないかという懸念が広まるのですが、それはまた別の話です。</p>
<p class="in">そういうニュースを読んでいたときに、ふと思い付きました。私の旧式のノートパソコンでも20Gバイトのディスクを載せ、まだ2Gバイトくらいは容量が残っています。ならばわざわざGmailに頼らなくても自前で検索ベースのメールリーダーを作ってしまえばよいのではないかと。</p>
<p class="in">調べてみると過去にも検索をベースにしたメールリーダーはいろいろとあったようです。有名なものではOperaに付属するM2というメールリーダーが検索をベースにしていてるそうです。そのようなメールリーダーでは「フォルダ」の代わりに検索条件を指定してメールを絞り込んだりするようです。</p>
<p class="in">しかし、私の環境で使えるオープンソースのものは見当たりません。特に私は文章をEmacs以外で書く気にはなりませんので、Emacsフロントエンドは必須です。なければ作るしかありません。なんか久々に大きなものを作る気になってきました。</p>
<p class="in">そんなわけで、先日来新しいメールリーダーを設計しているのです。メールを読むというよりは管理するツールなので、「メールオーガナイザー」と読んでいます。愛称は「morg」にしようと思っていたら、そういう名前のオープンソースソフトウェアはすでにあるそうです。名前を決めるのも難しい時代になってきましたね。どんな名前にしようかなあ。</p>
<p class="in">設計しているとはいっても、こればかりしているわけにもいかないので、作業は遅々として進まないのですが、それでも基本的な設計はできて、データベース部分についてはなんとか形になりそうです。</p>
<p class="in">基本的にはQDBMのOdeumを利用して、パーソナル検索エンジンEstraierを参考にしながら実装しようと考えています。データベース部が完成したら、今度はEmacsフロントエンドです。Web日記でメールオーガナイザーの開発について紹介したら、「Webインターフェイスがほしい」などリクエストもいただいています。</p>
<p class="in">というわけで、このところメールオーガナイザーのことをいろいろと考えています。予想以上に手間がかかって完成するのはまだまだ先になりそうですが、個人的にもぜひほしいツールなので口先だけにならないようにしたいと思います。</p>
<p class="in">とかいって、あんまりこっちに熱中していると、本業やらRuby2の件やらおろそかになってしまうという難しい状況にあるのですが。</p>
</section>
<!-- Navigation -->
<br /><br />
<hr />
<p class="navigation-right"><a href="p-018.xhtml">&lt;&lt; 前ページ</a>　<a href="p-020.xhtml">次ページ &gt;&gt;</a></p>
</body>
</html>
